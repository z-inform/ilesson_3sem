ipc - inter process communication

~судья, бегуны~

Судья
    N бегунов (знает судья)
    Судья ждет бегунов
    Объявляет начало соревнований
    Команда "на старт" первому игроку (эстафетная палочка)
    Ждет игрока N
    Объявляет результаты.
Бегун
    Прийти/заявиться судье
    Ждать палочки
    Бежать
    Отдать палочку
    Дождаться результатов
    Сказать "до свидания"
    Завершиться

Judge(N, id);
Runner(N, i, id);
    


SystemV IPC
    Очередь сообщений msg
    Семафоры sem
    Общая память shm

msg:
    key 32-bit - должны быть уникальны
    file to key - ftok(path, salt) salt [0:255] - порядковый номер (соль)

    msgget(key, mode | flags);
    flags:
        IPC_CREAT - создание объекта если его нет
        IPC_EXCL - запрет открывать уже существующий объект
    key: 
        IPC_PRIVATE - система сама создаст новый (гарантированно уникальный) ключ

    Очередь сообщений - FIFO
    Сообщения гранулированны (контейнеры)
    Контейнер сообщения:
        size
        type

    msgsnd(id, msg, size, flags) //msg send
    msgrcv(type...)

    msgctl(id, cmd, param)





